(this["webpackJsonpreact-hw-04-movies"]=this["webpackJsonpreact-hw-04-movies"]||[]).push([[5],{34:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},35:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return f}));var r=n(39),c=n.n(r);c.a.defaults.baseURL="https://api.themoviedb.org/3";var o="60d3eb3665993fae2174e10ed23701eb",a=function(){return c.a.get("trending/movie/week?api_key=".concat(o)).then((function(t){var e=t.data;if(0===e.results.length)throw new Error("No movies were found for your request. Try again");return e.results}))},u=function(t){return c.a.get("movie/".concat(t,"?api_key=").concat(o)).then((function(t){return t.data}))},i=function(t){return c.a.get("movie/".concat(t,"/credits?api_key=").concat(o)).then((function(t){return t.data}))},s=function(t){return c.a.get("movie/".concat(t,"/reviews?api_key=").concat(o)).then((function(t){return t.data.results}))},f=function(t){return c.a.get("search/movie?api_key=".concat(o,"&query=").concat(t)).then((function(t){return t.data.results}))}},37:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(34);function c(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(8),c=n(2),o=n(1),a=Object(c.h)((function(t){var e=t.movies,n=t.location;return Object(o.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.title,a=t.original_name;return Object(o.jsx)("li",{children:Object(o.jsx)(r.c,{to:{pathname:"/movies/".concat(e),state:{from:n}},children:c||a})},e)}))})}))},69:function(t,e,n){"use strict";var r=n(70),c=n(10);function o(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function a(t){return Array.isArray(t)?t.sort():"object"===typeof t?a(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=c({arrayFormat:"none"},e)),r=Object.create(null);return"string"!==typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),c=e.shift(),o=e.length>0?e.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(c),o,r)})),Object.keys(r).sort().reduce((function(t,e){var n=r[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=a(n):t[e]=n,t}),Object.create(null))):r},e.stringify=function(t,e){var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[o(e,t),"[",r,"]"].join(""):[o(e,t),"[",o(r,t),"]=",o(n,t)].join("")};case"bracket":return function(e,n){return null===n?o(e,t):[o(e,t),"[]=",o(n,t)].join("")};default:return function(e,n){return null===n?o(e,t):[o(e,t),"=",o(n,t)].join("")}}}(e=c({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map((function(r){var c=t[r];if(void 0===c)return"";if(null===c)return o(r,e);if(Array.isArray(c)){var a=[];return c.slice().forEach((function(t){void 0!==t&&a.push(n(r,t,a.length))})),a.join("&")}return o(r,e)+"="+o(c,e)})).filter((function(t){return t.length>0})).join("&"):""}},70:function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}},72:function(t,e,n){"use strict";n.r(e);var r=n(36),c=n.n(r),o=n(38);var a=n(37);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(i){c=!0,o=i}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}return n}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=n(0),s=n(2),f=n(69),l=n.n(f),d=n(41),h=n(1),b=function(t){var e=t.onSearch,n=u(Object(i.useState)(""),2),r=n[0],c=n[1];return Object(h.jsx)("section",{className:"Searchbar",children:Object(h.jsxs)("form",{className:"SearchForm",onSubmit:function(t){t.preventDefault(),e(r)},children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{className:"SearchForm-input",name:"inputQuery",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:r,onChange:function(t){var e=t.currentTarget.value;c(e)}})]})})},p=n(35);e.default=Object(s.h)((function(){var t=Object(s.g)(),e=l.a.parse(t.search);console.log(e);var n=u(Object(i.useState)(e.query||""),2),r=n[0],a=n[1],f=u(Object(i.useState)([]),2),v=f[0],m=f[1],j=u(Object(i.useState)(null),2),y=j[0],O=j[1],g=Object(s.f)();Object(i.useEffect)((function(){e.query&&(a(e.query),x())}),[]),Object(i.useEffect)((function(){r&&x()}),[r]);var x=function(){var t=Object(o.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p.d)(r);case 3:if(0!==(e=t.sent).length){t.next=6;break}throw new Error("No movies were found for your request. Try again");case 6:g.push({search:"?query=".concat(r)}),m(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),O(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{onSearch:function(t){a(t)}}),y&&Object(h.jsx)("h3",{className:"Error",children:y}),v.length>0&&Object(h.jsx)(d.a,{movies:v})]})}))}}]);
//# sourceMappingURL=movies.ae692bab.chunk.js.map